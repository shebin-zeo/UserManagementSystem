
<p-toast key="t1"></p-toast>
<p-toolbar>
    <div class="p-toolbar-group-start">
        <p-button 
            label="Create" 
            icon="pi pi-plus"
            severity="success" 
            [outlined]="true"
            class="mr-2" 
            (click)="createUser()" 
        />
        <p-button 
            label="View" 
            icon="pi pi-eye"
            severity="info" 
            [outlined]="true"
            class="mr-2" 
            (click)="viewUser()" 
        />
        <p-button 
            label="Update" 
            icon="pi pi-pencil"
            severity="warning" 
            [outlined]="true"
            class="mr-2" 
            (click)="updateUser()" 
        />
         <p-button 
            label="Delete" 
            icon="pi pi-trash"
            severity="danger" 
            [outlined]="true"
            class="mr-2" 
            (click)="deleteUser()" 
        />
        <!-- <p-button
        label="Verify"
        icon="pi pi-check"
        severity="contrast",
        [outlined]="true"
        class="mr-2"
        /> -->
    </div>
    
    <div class="p-toolbar-group-end">
       
        <p-button 
            label="Home" 
            icon="pi pi-home"
            severity="help" 
            [outlined]="true"
            class="mr-2"
            (click)="goHome()" 
        />
        <p-button
        label="Exit"
        icon="pi pi-sign-out"
        severity="danger"
        [outlined]="true"
        class="mr-2"
        (click)="logout()"
    
/>
      
    </div>
</p-toolbar>


<p-table
  [value]="users"
  [lazy]="true"
  (onLazyLoad)="loadUsers($event)"
  [paginator]="true"
  [rows]="10"
  [totalRecords]="totalRecords"
  [loading]="loading"
  selectionMode="single"
  [(selection)]="selectedUser"
  dataKey="userId"
>

  <ng-template pTemplate="header">
    <tr>
      <th>User ID</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Email</th>
      <th>Status</th>
      <th>User Type</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-user>
 <tr 
      [pSelectableRow]="user"
      class="cursor-pointer"
    >
      <td>{{ user.userId }}</td>
      <td>{{ user.firstName }}</td>
      <td>{{ user.lastName }}</td>
      <td>{{ user.email }}</td>
      <td>
        <span [ngClass]="getStatusColour(user.status)">
        {{userStatus[user.status] }}
        </span>
      </td>
      <td>
        <span [ngClass]="getUserTypeColor(user.userType)">
        {{ userTypeMap[user.userType] }}
        </span>
      </td>
    </tr>
  </ng-template>

</p-table>